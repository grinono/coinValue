{"version":3,"file":"0.a665341e9431e2f33de5.hot-update.js","sources":["/Users/bartelverkruijssen/Google Drive/Talqs/Talqs General/development/investCoin/apollo-universal-starter-kit-master/src/client/modules/connector.web.jsx"],"sourcesContent":["import React from 'react';\n\nimport { merge, map, union, without, castArray } from 'lodash';\n\nimport log from '../../common/log';\n\nconst combine = (features, extractor) => without(union(...map(features, res => castArray(extractor(res)))), undefined);\n\nexport const featureCatalog = {};\n\nexport default class {\n  /* eslint-disable no-unused-vars */\n  constructor(\n    {\n      route,\n      // navItem,\n      // navItemRight,\n      reducer,\n      middleware,\n      afterware,\n      connectionParam,\n      createFetchOptions,\n      stylesInsert,\n      scriptsInsert,\n      rootComponentFactory,\n      catalogInfo\n    },\n    ...features\n  ) {\n    /* eslint-enable no-unused-vars */\n    combine(arguments, arg => arg.catalogInfo).forEach(info =>\n      Object.keys(info).forEach(key => (featureCatalog[key] = info[key]))\n    );\n    this.route = combine(arguments, arg => arg.route);\n    // this.navItem = combine(arguments, arg => arg.navItem);\n    // this.navItemRight = combine(arguments, arg => arg.navItemRight);\n    this.reducer = combine(arguments, arg => arg.reducer);\n    this.middleware = combine(arguments, arg => arg.middleware);\n    this.afterware = combine(arguments, arg => arg.afterware);\n    this.connectionParam = combine(arguments, arg => arg.connectionParam);\n    this.createFetchOptions = combine(arguments, arg => arg.createFetchOptions);\n    this.stylesInsert = combine(arguments, arg => arg.stylesInsert);\n    this.scriptsInsert = combine(arguments, arg => arg.scriptsInsert);\n    this.rootComponentFactory = combine(arguments, arg => arg.rootComponentFactory);\n  }\n\n  get routes() {\n    return this.route.map((component, idx) => React.cloneElement(component, { key: idx + this.route.length }));\n  }\n\n  get navItems() {\n    return this.navItem.map((component, idx) =>\n      React.cloneElement(component, {\n        key: component.key ? component.key : idx + this.navItem.length\n      })\n    );\n  }\n\n  get navItemsRight() {\n    return this.navItemRight.map((component, idx) =>\n      React.cloneElement(component, {\n        key: component.key ? component.key : idx + this.navItem.length\n      })\n    );\n  }\n\n  get reducers() {\n    return merge(...this.reducer);\n  }\n\n  get middlewares() {\n    return this.middleware;\n  }\n\n  get afterwares() {\n    return this.afterware;\n  }\n\n  get connectionParams() {\n    return this.connectionParam;\n  }\n\n  get constructFetchOptions() {\n    return this.createFetchOptions.length\n      ? (...args) => {\n          try {\n            let result = {};\n            for (let func of this.createFetchOptions) {\n              result = { ...result, ...func(...args) };\n            }\n            return result;\n          } catch (e) {\n            log.error(e.stack);\n          }\n        }\n      : null;\n  }\n\n  get stylesInserts() {\n    return this.stylesInsert;\n  }\n\n  get scriptsInserts() {\n    return this.scriptsInsert;\n  }\n\n  getWrappedRoot(root, req) {\n    let nestedRoot = root;\n    for (const componentFactory of this.rootComponentFactory) {\n      nestedRoot = React.cloneElement(componentFactory(req), {}, nestedRoot);\n    }\n    return nestedRoot;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// src/client/modules/connector.web.jsx"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;AAEA;AACA;AAgBA;AADA;AACA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AADA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;;;AA6DA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAEA;AAAA;AACA;AAAA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAIA;AACA;;;AAlEA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;;;AAEA;AAAA;AACA;AAAA;AAAA;AAEA;AADA;AADA;AAKA;;;AAEA;AAAA;AACA;AAAA;AAAA;AAEA;AADA;AADA;AAKA;;;AAEA;AACA;AACA;;;AAEA;AACA;AACA;;;AAEA;AACA;AACA;;;AAEA;AACA;AACA;;;AAEA;AAAA;AACA;AAAA;AAEA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAEA;AAAA;AACA;AAAA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAIA;AACA;AACA;AACA;AACA;AAEA;;;AAEA;AACA;AACA;;;AAEA;AACA;AACA;;;;;;;;;;A","sourceRoot":""}